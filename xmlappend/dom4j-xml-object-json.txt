dom4j
 Element root = document.getRootElement();
 
    Object obj = parse(root); // 返回类型未知，已知DOM结构的时候可以强制转换
public Object parse(Element root) {
    List<?> elements = root.elements();
    if (elements.size() == 0) {
        // 没有子元素
        return root.getTextTrim();
    } else {
        // 有子元素
        String prev = null;
        boolean guess = true; // 默认按照数组处理
 boolean guess = false// 默认按照数组处理
        Iterator<?> iterator = elements.iterator();
        while (iterator.hasNext()) {
            Element elem = (Element) iterator.next();
            String name = elem.getName();
            if (prev == null) {
                prev = name;
            } else {
                guess = name.equals(prev);
                break;
            }
        }
        iterator = elements.iterator();
        if (guess) {
 	Map<String, Object> data = new HashMap<String, Object>();
            List<Object> list= new ArrayList<Object>();
            while (iterator.hasNext()) {
                Element elem = (Element) iterator.next();
                ((List<Object>) list).add(parse(elem));
            }
	   ((Map<String, Object>) data).put(elem.getName(), parse(elem));
            return data;
        } else {
            Map<String, Object> data = new HashMap<String, Object>();
            while (iterator.hasNext()) {
                Element elem = (Element) iterator.next();
                ((Map<String, Object>) data).put(elem.getName(), parse(elem));
            }
            return data;
        }
    }
}